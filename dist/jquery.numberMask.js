/*!
 * jQuery numberMask Plugin v0.1.3
 *
 * Licensed under the MIT License
 * Authors: Konstantin Krivlenia
 *          krivlenia@gmail.com
 * Site:  https://github.com/Mavrin/maskInput
 */
!function(e){e.fn.numberMask=function(t){var n={type:"int",beforePoint:10,afterPoint:2,defaultValueInput:0,decimalMark:["."],pattern:""},a=function(e){var t,a=e.which;if(e.ctrlKey||e.altKey||e.metaKey||32>a)return!0;if(a){var r=String.fromCharCode(a),o=e.target.value,l=i(e.target);return o=o.substring(0,l.start)+r+o.substring(l.end),"object"==typeof n.pattern&&n.pattern instanceof RegExp?t=n.pattern:"int"==n.type?t=new RegExp("^\\d{1,"+n.beforePoint+"}$","ig"):"float"==n.type&&(t=new RegExp("^\\d{1,"+n.beforePoint+"}$|^\\d{1,"+n.beforePoint+"}"+c()+"\\d{0,"+n.afterPoint+"}$","ig")),t.test(o)}},r=function(t){var n=e(t.target);(13==t.which||86==t.which)&&n.val(l(n))},i=function(e){var t,n,a,r,i,o=0,l=0,c=!1;return"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd?(o=e.selectionStart,l=e.selectionEnd):(n=document.selection.createRange(),n&&n.parentElement()==e&&(r=e.value.length,t=e.value.replace(/\r\n/g,"\n"),a=e.createTextRange(),a.moveToBookmark(n.getBookmark()),i=e.createTextRange(),i.collapse(!1),a.compareEndPoints("StartToEnd",i)>-1?o=l=r:(o=-a.moveStart("character",-r),o+=t.slice(0,o).split("\n").length-1,a.compareEndPoints("EndToEnd",i)>-1?l=r:(l=-a.moveEnd("character",-r),l+=t.slice(0,l).split("\n").length-1)))),o-l!=0&&(c=!0),{start:o,end:l,statusSelection:c}},o=function(t){var n=e(t.target);""!=n.val()&&n.val(l(n))},l=function(e){var t,a=e.val();return"object"==typeof n.pattern&&n.pattern instanceof RegExp?(t=n.pattern,t.test(a)?a:n.defaultValueInput):"int"==n.type?(t=new RegExp("^\\d{1,"+n.beforePoint+"}$","ig"),t.test(a)?a:n.defaultValueInput):(t=new RegExp("^\\d{1,"+n.beforePoint+"}$|^\\d{1,"+n.beforePoint+"}"+c()+"\\d{1,"+n.afterPoint+"}$","ig"),t.test(a)?a:n.defaultValueInput)},c=function(){for(var e="(\\"+n.decimalMark[0],t=1;t<n.decimalMark.length;t++)e+="|\\"+n.decimalMark[t];return e+=")"};return this.bind("keypress",a).bind("keyup",r).bind("blur",o),t&&(t.decimalMark&&"string"===e.type(t.decimalMark)&&(t.decimalMark=[t.decimalMark]),e.extend(n,t)),this}}(jQuery);